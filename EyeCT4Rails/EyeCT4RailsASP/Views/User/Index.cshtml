@using EyeCT4RailsLib.Enums

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";

    var roleLookupTable = new Dictionary<Role, string>
    {
        {Role.Administrator, "Administrator" },
        {Role.DepotManager, "Remise Beheerder"},
        {Role.Cleanup, "Schoonmaker"  },
        {Role.Mechanic, "Mechanieker" },
        {Role.Driver, "Machinist" }
    };
}

<div class="row" id="userManagement">
    <div class="col-md-6 col-md-offset-3">
        <h2>Gebruiker Toevoegen</h2>

        @using (Html.BeginForm("Index", "User"))
        {
            <div class="form-group">
                <label for="name">Naam: </label>
                <input type="text" class="form-control" name="name" id="name" required value="@ViewBag.Name">
            </div>
            <div class="form-group">
                <label for="email">Email: </label>
                <input type="email" class="form-control" name="email" id="email" required value="@ViewBag.Email">
            </div>
            <div class="form-group">
                <label for="password">Wachtwoord: </label>
                <input type="password" class="form-control" name="password" id="password" required>
            </div>
            <div class="form-group">
                <label for="passwordRepeat">Herhaal wachtwoord: </label>
                <input type="password" class="form-control" name="passwordRepeat" id="passwordRepeat" required>
            </div>
            <div class="form-group">
                <label for="role">Functie:</label>
                <select class="form-control" name="role" id="role" required>
                    @foreach (var entry in roleLookupTable)
                    {
                        var selected = entry.Key.ToString() == ViewBag.Role ? "selected" : "";
                        <option value="@entry.Key" @selected>@entry.Value</option>
                    }
                </select>
            </div>

            <button type="submit" class="btn btn-default">Maak aan</button>
        }
    </div>
</div>